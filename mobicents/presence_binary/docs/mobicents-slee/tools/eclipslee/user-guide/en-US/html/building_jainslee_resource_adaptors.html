<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 9. Building JAIN SLEE Resource Adaptors</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Mobicents EclipSLEE Plugin User Guide"/><link rel="up" href="index.html" title="Mobicents EclipSLEE Plugin User Guide"/><link rel="prev" href="building_jainslee_ratypes.html" title="Chapter 8. Building JAIN SLEE Resource Adaptor Types"/><link rel="next" href="creating_a_jainslee_du.html" title="Chapter 10. Creating a JAIN SLEE Deployable Unit"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="building_jainslee_ratypes.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="creating_a_jainslee_du.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="building_jainslee_resource_adaptors"/>Chapter 9. Building JAIN SLEE Resource Adaptors</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#creating_a_jainslee_resource_adaptor">9.1. Creating a JAIN SLEE Resource Adaptor</a></span></dt><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#editing_a_jainslee_ra">9.2. Editing a JAIN SLEE Resource Adaptor</a></span></dt><dd><dl><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#editing_a_jainslee_ra-identity">9.2.1. Edit RA Identity</a></span></dt><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#editing_a_jainslee_ra-ratypes">9.2.2. Edit RA Resource Adaptor Types</a></span></dt><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#editing_a_jainslee_ra-config_properties">9.2.3. Edit RA Config Properties</a></span></dt></dl></dd><dt><span class="section"><a href="building_jainslee_resource_adaptors.html#deleting_a_jainslee_ra">9.3. Deleting a JAIN SLEE Resource Adaptor</a></span></dt></dl></div><p>EclipSLEE provides means to create, edit and delete JAIN SLEE Resource Adaptors.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="creating_a_jainslee_resource_adaptor"/>9.1. Creating a JAIN SLEE Resource Adaptor</h2></div></div></div><p>
			To create a component it may be easier (but not mandatory) to first create a package to contain it. This package should be created as a child of the &lt;ra-module&gt;/src/main/java folder. To do this right-click on the src folder and select <span class="guimenu"><strong>New</strong></span> → <span class="guisubmenu"><strong>Package</strong></span>. Give the new package a name using the popup dialog (shown below).
			</p><div class="figure"><a id="d0e2700"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_package.png" align="middle" alt="Creating a new Package in Eclipse" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2703.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2703.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.1. Creating a new Package in Eclipse</b></p></div><p><br class="figure-break"/>
			In case a new package is not created at this point, it can still be created in the Component wizard, but no validation is performed at that time, regarding the package naming conventions.
		</p><p>
			To create a new JAIN SLEE Resource Adaptor, right-click on the created package (or the module entry if the package is not yet created) and choose <span class="guimenu"><strong>New</strong></span> → <span class="guisubmenu"><strong>Other ...</strong></span> as shown below.
			</p><div class="figure"><a id="d0e2718"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_component.png" align="middle" alt="Creating a new JAIN SLEE Component in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2721.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2721.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.2. Creating a new JAIN SLEE Component in EclipSLEE</b></p></div><p><br class="figure-break"/>
			A dialog should appear. Expand the <span class="guilabel"><strong>JAIN SLEE</strong></span> item and choose <span class="guilabel"><strong>JAIN SLEE Resource Adaptor</strong></span>. The dialog should now look like the following:
			</p><div class="figure"><a id="d0e2734"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor.png" align="middle" alt="Creating a new JAIN SLEE Resource Adaptor in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2737.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2737.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.3. Creating a new JAIN SLEE Resource Adaptor in EclipSLEE</b></p></div><p><br class="figure-break"/>
			Click <span class="guibutton"><strong>Next</strong></span> to get the following dialog:
			</p><div class="figure"><a id="d0e2747"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor_name.png" align="middle" alt="Selecting the package and name for a new JAIN SLEE Resource Adaptor in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2750.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2750.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.4. Selecting the package and name for a new JAIN SLEE Resource Adaptor in EclipSLEE</b></p></div><p><br class="figure-break"/>
			The source folder and package dialogs will be completed if <span class="guimenu"><strong>New</strong></span> → <span class="guisubmenu"><strong>Other ...</strong></span> has been selected from right-clicking on a package. Otherwise it may need to be chosen by selecting <span class="guibutton"><strong>Browse...</strong></span> and selecting the desired locations or typing it's name in the appropriate field and it will be created in the end.
		</p><p>
			Name the Resource Adaptor; the name must end with "<code class="filename">ResourceAdaptor.java</code>". Then click <span class="guibutton"><strong>Next</strong></span> to go to the component identity dialog, pictured below:
			</p><div class="figure"><a id="d0e2774"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor_identity.png" align="middle" alt="JAIN SLEE Component Identity dialog in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2777.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2777.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.5. JAIN SLEE Component Identity dialog in EclipSLEE</b></p></div><p><br class="figure-break"/>
			The Name, Vendor and Version fields are mandatory and are used by the SLEE to identify the Resource Adaptor. The description field is optional, but strongly recommended to be completed to allow easy identification of the Resource Adaptor in future.
		</p><p>
			After completing these fields click <span class="guibutton"><strong>Next</strong></span> to specify the Resource Adaptor Libraries.
		</p><p>
			</p><div class="figure"><a id="d0e2791"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_component_libraries.png" align="middle" alt="JAIN SLEE Resource Adaptor Libraries dialog in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2794.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2794.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.6. JAIN SLEE Resource Adaptor Libraries dialog in EclipSLEE</b></p></div><p><br class="figure-break"/>
			This dialog allows to select which JAIN SLEE Libraries this Resource Adaptor should reference in it's descriptor. Select them from the top list (Available Libraries) by clicking <span class="guibutton"><strong>Select Library</strong></span>. To remove them, select them from the bottom list (Selected Libraries) and click <span class="guibutton"><strong>Deselect Library</strong></span>.
		</p><p>
			When done, click <span class="guibutton"><strong>Next</strong></span> to specify the RA Types the Resource Adaptor implements.
		</p><p>
			</p><div class="figure"><a id="d0e2814"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor_ratypes.png" align="middle" alt="JAIN SLEE Resource Adaptor RA Types selection in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2817.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2817.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.7. JAIN SLEE Resource Adaptor RA Types selection in EclipSLEE</b></p></div><p><br class="figure-break"/>
			This dialog allows you to specify which RA Types this Resource Adaptor will implement. Select them from the top list (Available RA Types) by clicking <span class="guibutton"><strong>Select RA Type</strong></span>. To remove them, select them from the bottom list (Selected RA Types) and click <span class="guibutton"><strong>Deselect RA Type</strong></span>. When done, click <span class="guibutton"><strong>Next</strong></span> to edit the Resource Adaptor Config Properties.
			</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Available Components Missing?</h2><p>At the moment, in order for the available components to be listed in the wizard, they need to be part of the classpath. For instance if you want to use the SIP11 Resource Adaptor Type for your project, you will need to add it as a Maven Dependency and be part of classpath first. Refer to <a class="xref" href="creating_and_managing_a_project.html#adding_new_maven_dependency" title="3.3.1. Adding a New Maven Dependency">Section 3.3.1, “Adding a New Maven Dependency”</a> on how to do it.</p></div><p>
		</p><p>
			</p><div class="figure"><a id="d0e2843"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor_config_properties.png" align="middle" alt="JAIN SLEE Resource Adaptor Config Properties definition in EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2846.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2846.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.8. JAIN SLEE Resource Adaptor Config Properties definition in EclipSLEE</b></p></div><p><br class="figure-break"/>
			Here, the Resource Adaptor's Config Properties can be set. Add a Config Property field by clicking on <span class="guibutton"><strong>Add</strong></span> and writing it's name on the <span class="guilabel"><strong>Name</strong></span> column, selecting the appropriate Java Type in the <span class="guilabel"><strong>Type</strong></span> column and, this is optional, type a default value (if no value is to be set, delete the default <code class="literal">?</code> which is inserted) in the <span class="guilabel"><strong>Default Value</strong></span> column. 
		</p><p>
			In this same wizard page, it is possible to define whether this Resource Adaptor supports reconfiguration when in ACTIVE state by checking or leaving unchecked the <span class="guibutton"><strong>This Resource Adaptor supports active reconfiguration</strong></span> checkbox.
		</p><p>
			Once finished, click <span class="guibutton"><strong>Finish</strong></span> to create the Resource Adaptor Type.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Skipping optional steps</h2><p><span class="guibutton"><strong>Finish</strong></span> can be clicked at any point after setting the Resource Adaptor's identity if a skeleton Resource Adaptor is required. It is not necessary to complete each wizard page first.</p></div><p>
			The Resource Adaptor Java file, <code class="filename">MobicentsDemoResourceAdaptor.java</code> (plus the remaining interfaces and classes which were selected at the wizard) is created in the specified package and opened for editing in the workspace. The <code class="filename">ra-jar.xml</code> deployment descriptor is updated to reflect the new ratype or created if not already present. The resulting workspace can be seen below.
			</p><div class="figure"><a id="d0e2893"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_new_jainslee_resource_adaptor_workspace.png" align="middle" alt="JAIN SLEE Resource Adaptor created in workspace using EclipSLEE" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2896.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2896.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.9. JAIN SLEE Resource Adaptor created in workspace using EclipSLEE</b></p></div><p><br class="figure-break"/>
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="editing_a_jainslee_ra"/>9.2. Editing a JAIN SLEE Resource Adaptor</h2></div></div></div><p>
			It is possible with EclipSLEE to edit existing components. When right-clicking in one of the JAIN SLEE Resource Adaptor classes a similar menu should be shown:
			</p><div class="figure"><a id="d0e2908"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_edit_ra_class.png" align="middle" alt="Editing a JAIN SLEE Resource Adaptor through class file" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2911.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2911.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.10. Editing a JAIN SLEE Resource Adaptor through class file</b></p></div><p><br class="figure-break"/>
			It is also possible to edit by right-clicking on the resource-adaptor-jar.xml descriptor. In that case a sub-menu allowing to pick which Resource Adaptor to edit is shown:
			</p><div class="figure"><a id="d0e2918"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_edit_ra_xml.png" align="middle" alt="Editing JAIN SLEE Resource Adaptors through XML descriptor" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2921.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2921.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.11. Editing JAIN SLEE Resource Adaptors through XML descriptor</b></p></div><p><br class="figure-break"/>
			After selecting the desired Resource Adaptor, the menu shown should be similar to the one presented when using the class file to edit.
		</p><p>
			The following actions are available for a JAIN SLEE Resource Adaptor:
		</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="editing_a_jainslee_ra-identity"/>9.2.1. Edit RA Identity</h3></div></div></div><p>
				This operation can be accessed by selecting <span class="guilabel"><strong>Identity...</strong></span>. With this operation it is possible to change the JAIN SLEE Resource Adaptor identity (name, vendor, version) and it's description. The following dialog is presented:
			</p><div class="figure"><a id="d0e2938"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_edit_ra_identity_dialog.png" align="middle" alt="Editing JAIN SLEE Resource Adaptor Identity" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2941.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2941.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.12. Editing JAIN SLEE Resource Adaptor Identity</b></p></div><br class="figure-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Other components are not updated!</h2><p>EclipSLEE does not automatically update other component descriptors in order to reflect such identity change, so it should be made manually.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="editing_a_jainslee_ra-ratypes"/>9.2.2. Edit RA Resource Adaptor Types</h3></div></div></div><p>
				This operation can be accessed by selecting <span class="guilabel"><strong>Resource Adaptor Types...</strong></span>, which allows to change the Resource Adaptor Types being implemented by this RA. The following dialog is presented:
			</p><div class="figure"><a id="d0e2960"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_edit_ra_ratypes_dialog.png" align="middle" alt="Editing JAIN SLEE Resource Adaptor RA Types" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2963.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2963.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.13. Editing JAIN SLEE Resource Adaptor RA Types</b></p></div><br class="figure-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="editing_a_jainslee_ra-config_properties"/>9.2.3. Edit RA Config Properties</h3></div></div></div><p>
				This operation can be accessed by selecting <span class="guilabel"><strong>Config Properties...</strong></span>, allowing to add new Config Properties to the Resource Adaptor or modify or remove the existing ones. The following dialog is presented:
			</p><div class="figure"><a id="d0e2977"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_edit_ra_config_properties_dialog.png" align="middle" alt="Editing JAIN SLEE Resource Adaptor Configuration Properties" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e2980.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e2980.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.14. Editing JAIN SLEE Resource Adaptor Configuration Properties</b></p></div><br class="figure-break"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="deleting_a_jainslee_ra"/>9.3. Deleting a JAIN SLEE Resource Adaptor</h2></div></div></div><p>
			It is possible with EclipSLEE to delete existing components. Right-clicking in one of the JAIN SLEE Resource Adaptor classes or XML descriptor file (see <a class="xref" href="building_jainslee_resource_adaptors.html#editing_a_jainslee_ra" title="9.2. Editing a JAIN SLEE Resource Adaptor">Section 9.2, “Editing a JAIN SLEE Resource Adaptor”</a>) and selecting the <span class="guilabel"><strong>Delete</strong></span> option.
		</p><p>
			A confirmation dialog similar to the following should be presented:
			</p><div class="figure"><a id="d0e2998"/><div class="figure-contents"><div class="mediaobject" align="center"><img src="images/img-eclipslee_delete_ra_confirmation_dialog.png" align="middle" alt="Deleting a JAIN SLEE Resource Adaptor confirmation dialog" longdesc="/Users/martins/mobicents-svn/trunk/servers/jain-slee/release/checkout/tools/eclipslee/docs/jdocbook-mobicents/target/docbook/publish/en-US/html/ld-d0e3001.html"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="longdesc-link"><br/><span class="longdesc-link">[<a href="ld-d0e3001.html">D</a>]</span></div></div></div><p class="title"><b>Figure 9.15. Deleting a JAIN SLEE Resource Adaptor confirmation dialog</b></p></div><p><br class="figure-break"/>
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Impossible to undo this operation!</h2><p>Deleting a component is an irreversible operation, so it should be used carefully.</p></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="building_jainslee_ratypes.html"><strong>Prev</strong>Chapter 8. Building JAIN SLEE Resource Adaptor Ty...</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="creating_a_jainslee_du.html"><strong>Next</strong>Chapter 10. Creating a JAIN SLEE Deployable Unit</a></li></ul></body></html>