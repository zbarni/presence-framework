<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Configurating and Using Mobicents Remote SLEE Connection Tool</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Mobicents Remote SLEE Connection Tool User Guide"/><link rel="up" href="index.html" title="Mobicents Remote SLEE Connection Tool User Guide"/><link rel="prev" href="setup.html" title="Chapter 2. Setup"/><link rel="next" href="revision_history.html" title="Appendix A. Revision History"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="setup.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="revision_history.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="configuration_and_running"/>Chapter 3. Configurating and Using Mobicents Remote SLEE Connection Tool</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="configuration_and_running.html#configuration">3.1. Configuring Mobicents Remote SLEE Connection Tool</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#using">3.2. Using Mobicents Remote SLEE Connection Tool</a></span></dt></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="configuration"/>3.1. Configuring Mobicents Remote SLEE Connection Tool</h2></div></div></div><p>The only configuration needed is setting up the address of the JAIN SLEE container to interact, this is done through the config-property named SleeJndiName inside <code class="filename">slee-ds.xml</code> file inside the rar archive or directory. ${jboss.bind.address} should be replaced with the hostname used by the JAIN SLEE container.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="using"/>3.2. Using Mobicents Remote SLEE Connection Tool</h2></div></div></div><p>The tool installs the SLEE Connection Factory in JNDI, below is example code which retrieves it and uses it to fire an event into the JAIN SLEE container.</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;retrieves&nbsp;JNDI&nbsp;context</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">InitialContext</span><span class="java_plain">&nbsp;context&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">InitialContext</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;retrieves&nbsp;the&nbsp;connection&nbsp;factory&nbsp;from&nbsp;JNDI</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">SleeConnectionFactory</span><span class="java_plain">&nbsp;factory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">SleeConnectionFactory</span><span class="java_separator">)</span><span class="java_plain">&nbsp;context</span><span class="java_separator">.</span><span class="java_plain">lookup</span><span class="java_separator">(</span><span class="java_literal">&quot;java:/MobicentsConnectionFactory&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;creates&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;SLEE&nbsp;container</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">SleeConnection</span><span class="java_plain">&nbsp;connection&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;factory</span><span class="java_separator">.</span><span class="java_plain">getConnection</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;creates&nbsp;the&nbsp;activity&nbsp;handle&nbsp;which&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;fire&nbsp;the&nbsp;event&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ExternalActivityHandle</span><span class="java_plain">&nbsp;handle&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;connection</span><span class="java_separator">.</span><span class="java_plain">createActivityHandle</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;retrieves&nbsp;the&nbsp;event&nbsp;type&nbsp;ID</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">EventTypeID</span><span class="java_plain">&nbsp;eventTypeID&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;connection</span><span class="java_separator">.</span><span class="java_plain">getEventTypeID</span><span class="java_separator">(</span><span class="java_literal">&quot;CustomEvent&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;...&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;1.0&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;creates&nbsp;the&nbsp;event&nbsp;object</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">CustomEvent</span><span class="java_plain">&nbsp;eventObject&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">CustomEvent</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;fires&nbsp;the&nbsp;event&nbsp;in&nbsp;the&nbsp;remote&nbsp;SLEE&nbsp;container</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;connection</span><span class="java_separator">.</span><span class="java_plain">fireEvent</span><span class="java_separator">(</span><span class="java_plain">eventObject</span><span class="java_separator">,</span><span class="java_plain">&nbsp;eventTypeID</span><span class="java_separator">,</span><span class="java_plain">&nbsp;handle</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;closes&nbsp;the&nbsp;connection</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;connection</span><span class="java_separator">.</span><span class="java_plain">close</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="setup.html"><strong>Prev</strong>Chapter 2. Setup</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="revision_history.html"><strong>Next</strong>Appendix A. Revision History</a></li></ul></body></html>