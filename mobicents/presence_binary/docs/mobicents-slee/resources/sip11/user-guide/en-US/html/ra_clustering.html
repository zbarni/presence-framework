<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 5. Clustering</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Mobicents JAIN SLEE SIP11 Resource Adaptor User Guide"/><link rel="up" href="index.html" title="Mobicents JAIN SLEE SIP11 Resource Adaptor User Guide"/><link rel="prev" href="setup.html" title="Chapter 4. Setup"/><link rel="next" href="revision_history.html" title="Appendix A. Revision History"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="setup.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="revision_history.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_clustering"/>Chapter 5. Clustering</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ra_clustering.html#ra_clustering_failover">5.1. Failover</a></span></dt><dt><span class="section"><a href="ra_clustering.html#ra_clustering_load_balancing">5.2. Load Balancing</a></span></dt><dd><dl><dt><span class="section"><a href="ra_clustering.html#ra_clustering_load_balancer_configuration">5.2.1. Configuring the Resource Adaptor to be used with Mobicents SIP Load Balancer</a></span></dt></dl></dd></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_clustering_failover"/>5.1. Failover</h2></div></div></div><p>The SIP Stack used by the RA supports <code class="literal">ESTABLISHED</code> and <code class="literal">EARLY</code> dialog failover. This means that an application must be in charge of properly adapting its state machine to recover dialog state in case original transaction had not send or receive answer with code greater than <code class="literal">100</code>. </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_clustering_load_balancing"/>5.2. Load Balancing</h2></div></div></div><p>The RA can be used with Mobicents SIP Load Balancer. The recommended version is 1.4.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="ra_clustering_load_balancer_configuration"/>5.2.1. Configuring the Resource Adaptor to be used with Mobicents SIP Load Balancer</h3></div></div></div><div class="variablelist"><p>There are three properties which define how the RA connects to Mobicents SIP Load Balancer:</p><dl><dt><span class="term">org.mobicents.ha.javax.sip.BALANCERS</span></dt><dd><p>the property must be configured with the list of load balancer IP address and internal ports. As an example, suppose a single Mobicents SIP Load Balancer is running with IP <code class="literal">192.168.0.1</code> and internal port <code class="literal">5065</code>. The property would be set with a value of<code class="literal">192.168.0.1:5065</code>. To specify multiple balancers use <code class="literal">;</code> as a separator.</p></dd><dt><span class="term">org.mobicents.ha.javax.sip.LoadBalancerHeartBeatingServiceClassName</span></dt><dd><p>this property is optional, and defines the class name of the HeartBeating service implementation. Currently, the only one available is <code class="literal">org.mobicents.ha.javax.sip.LoadBalancerHeartBeatingServiceImpl</code></p></dd><dt><span class="term">org.mobicents.ha.javax.sip.LoadBalancerElector</span></dt><dd><p>this property is optional, and defines the class of the load balancer elector from JAIN SIP HA Stack. The elector is used to define which load balancer will receive outgoing requests, which are out of dialog or in dialog with null state. Currently only one elector implementation is available, <code class="literal">org.mobicents.ha.javax.sip.RoundRobinLoadBalancerElector</code>, which, as the class name says, uses a round robin algorithm to select the balancer.</p></dd></dl></div></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="setup.html"><strong>Prev</strong>Chapter 4. Setup</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="revision_history.html"><strong>Next</strong>Appendix A. Revision History</a></li></ul></body></html>