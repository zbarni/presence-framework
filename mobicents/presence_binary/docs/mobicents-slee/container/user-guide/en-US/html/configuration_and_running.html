<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Configuring and Running Mobicents JAIN SLEE</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="JAIN SLEE User Guide"/><link rel="up" href="index.html" title="JAIN SLEE User Guide"/><link rel="prev" href="install.html" title="Chapter 2. Installing Mobicents JAIN SLEE"/><link rel="next" href="management.html" title="Chapter 4. Managing Mobicents JAIN SLEE"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="install.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="management.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="configuration_and_running"/>Chapter 3. Configuring and Running Mobicents JAIN SLEE</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="configuration_and_running.html#server_profiles">3.1. Server Profiles</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#running">3.2. Running Mobicents JAIN SLEE</a></span></dt><dd><dl><dt><span class="section"><a href="configuration_and_running.html#starting">3.2.1. Starting</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#stopping">3.2.2. Stopping</a></span></dt></dl></dd><dt><span class="section"><a href="configuration_and_running.html#configuration">3.3. Configuring Mobicents JAIN SLEE</a></span></dt><dd><dl><dt><span class="section"><a href="configuration_and_running.html#event_router_configuration">3.3.1. Event Router Statistics and Configuration</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#timer_facility_configuration">3.3.2. Timer Facility Configuration</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#profiles_configuration">3.3.3. Configuring JAIN SLEE Profiles</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#other_configurations">3.3.4. Other Configurations</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#logging_configuration">3.3.5. Logging Configuration</a></span></dt><dt><span class="section"><a href="configuration_and_running.html#congestion_control_configuration_">3.3.6. Congestion Control Configuration</a></span></dt></dl></dd></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="server_profiles"/>3.1. Server Profiles</h2></div></div></div><p>Mobicents JAIN SLEE reuses JBoss Application Server server profiles to expose different configurations for different needs:</p><div class="variablelist"><dl><dt><span class="term">Default Profile</span></dt><dd><p>The <span class="application"><strong>default</strong></span> profile is proper for standalone or pure high availability. It provides the best performance per cluster node, with linear scaling, but there is no state replication in the cluster, which means that there is no support for failover, neither there is any kind of state gravitation (one node sending state so another node continues its work.</p></dd><dt><span class="term">All Profile</span></dt><dd><p>The <span class="application"><strong>all</strong></span> profile is proper for more flexible high availability and failover support. Performance per node decreases but the cluster does state replication or gravitation.</p></dd></dl></div><p>Profiles can be selected when starting the server, see <a class="xref" href="configuration_and_running.html#running" title="3.2. Running Mobicents JAIN SLEE">Section 3.2, “Running Mobicents JAIN SLEE”</a> for detailed instructions.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="running"/>3.2. Running Mobicents JAIN SLEE</h2></div></div></div><p>Starting or stopping Mobicents JAIN SLEE is no different than starting or stopping JBoss Application Server</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="starting"/>3.2.1. Starting</h3></div></div></div><p>Once installed, you can run server(s) by executing the run.sh (Unix) or run.bat (Microsoft Windows) startup scripts in the <code class="filename">&lt;install_directory&gt;/bin</code> directory (on Unix or Windows).</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="starting_paramaters"/>3.2.1.1. Starting Parameters</h4></div></div></div><div class="variablelist"><dl><dt><span class="term">Server Profile</span></dt><dd><p>To specify the server profile use <code class="command">-c profile_name</code>, for instance, to use the <span class="application"><strong>all</strong></span> profile then start the server with <code class="command">-c all</code></p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>If not specified the <span class="application"><strong>default</strong></span> profile is used.</p></div></dd><dt><span class="term">IP / Host</span></dt><dd><p>To specify the IP/Host which the server binds, use <code class="command">-b IP</code>, for instance, to use the 192.168.0.1 IP then start the server with <code class="command">-b 192.168.0.1</code></p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>If not specified then <span class="application"><strong>127.0.0.1</strong></span> is used.</p></div></dd></dl></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="stopping"/>3.2.2. Stopping</h3></div></div></div><p>You can shut down the server(s) you can run server(s) by executing the <code class="command">shutdown.sh -s</code> (Unix) or <code class="command">shutdown.bat -s</code> (Microsoft Windows) scripts in the <code class="filename">&lt;install_directory&gt;/bin</code> directory (on Unix or Windows). Note that if you properly stop the server, you will see the following three lines as the last output in the Unix terminal or Command Prompt:</p><pre class="screen">[Server] Shutdown complete
Shutdown complete
Halting VM</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="configuration"/>3.3. Configuring Mobicents JAIN SLEE</h2></div></div></div><p>JAIN SLEE is configured through an XML descriptor for each <a class="xref" href="configuration_and_running.html#server_profiles" title="3.1. Server Profiles">Section 3.1, “Server Profiles”</a>. The XML file is named <code class="filename">jboss-beans.xml</code> and is located at <code class="filename">$JBOSS_HOME/server/profile_name/deploy/mobicents-slee/META-INF</code>, where <span class="application"><strong>profile_name</strong></span> is the server profile name.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning"><h2>Warning</h2><p>
      This configuration greatly affects performance or correctness of the container behavior. This is for advanced users that know the internals of the container.
      </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="event_router_configuration"/>3.3.1. Event Router Statistics and Configuration</h3></div></div></div><p>The JAIN SLEE Event Router is the module responsible for creating new service instances and delivering events to all interested parties. It is capable of doing the routing of several events in parallel, through the usage of multiple executors, each bound to a different thread.</p><p>The Event Router is also able to account performance and load statistics, indicating the number of activities being assigned or several timings regarding event routing, globally or for each individual executor/thread. Statistics are turned on by default and may be retrieved through the JMX MBean <span class="application"><strong>org.mobicents.slee:name=EventRouterStatistics</strong></span>.</p><p>
  An important sub-module of the Event Router is the Executor Mapper, which is responsible for assigning activities to the available executors. JAIN SLEE includes two different Executor Mappers. The default one takes into account the hashcode of the activity handle when distributing, while the alternative uses a round robin algorithm.
  </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
    In the case of advanced performance tuning, it is advised to try the different implementations available, or even provide a custom one.
    </p></div><p>
  The Executor Mapper is nothing more than an interface: <code class="classname">org.mobicents.slee.container.eventrouter.EventRouterExecutorMapper</code>. To deploy a custom implementation, drop the implementation class or classes, packed in a jar file, in the server profile <code class="filename">/deploy</code> directory.
  </p><p>The whole Event Router is a critical component with respect to the container's performance. Its configuration can be tuned, through an XML file and a JMX MBean.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="event_router_persistent_configuration"/>3.3.1.1. Event Router Persistent Configuration</h4></div></div></div><p>Configuration is done through an XML descriptor for each <a class="xref" href="configuration_and_running.html#server_profiles" title="3.1. Server Profiles">Section 3.1, “Server Profiles”</a>. The XML file is named <code class="filename">jboss-beans.xml</code> and is located at <code class="filename">$JBOSS_HOME/server/profile_name/deploy/mobicents-slee/META-INF</code>, where <span class="application"><strong>profile_name</strong></span> is the server profile name.</p><p>The configuration is exposed a JBoss Microcontainer Bean:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.JAINSLEE.EventRouterConfiguration&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.slee.container.management.jmx.EventRouterConfiguration&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">@org.jboss.aop.microcontainer.aspects.jmx.JMX(name=</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;org.mobicents.slee:name=EventRouterConfiguration&quot;,&nbsp;exposedInterface=</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.mobicents.slee.container.management.jmx.EventRouterConfigurationMBean.class,</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerDirectly=true)</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;eventRouterThreads&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">8</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;collectStats&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">true</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;executorMapperClassName&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.mobicents.slee.runtime.eventrouter.mapping.ActivityHashingEventRouterExecutorMapper</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><div class="table"><a id="d0e764"/><p class="title"><b>Table 3.1. JAIN SLEE Event Router Bean Configuration</b></p><div class="table-contents"><table summary="JAIN SLEE Event Router Bean Configuration" width="100%" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Property Type</th><th>Description</th></tr></thead><tbody><tr><td>eventRouterThreads</td><td>int</td><td>defines how many executors should be used by the Event Router, each bounds to a different thread</td></tr><tr><td>collectStats</td><td>boolean</td><td>defines if performance and load statistics should be collected, turning this feature off will increase performance</td></tr><tr><td>confirmSbbEntityAttachement</td><td>boolean</td><td>defines if the event router should reconfirm that sbb entities are attached to activity context, before delivering event, this will avoid that a sbb entity handles concurrent events after it detachs, turning this feature off will increase performance</td></tr><tr><td>executorMapperClassName</td><td>Class</td><td>This property defines the implementation class of Executor Mapper used by the Event Router, the one above and default uses the activity handle hashcode to do the mapping, an alternative is <code class="classname">org.mobicents.slee.runtime.eventrouter</code><code class="classname">.mapping.RoundRobinEventRouterExecutorMapper</code>, which uses Round Robin algorithm.</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="event_router_jmx_configuration"/>3.3.1.2. Event Router JMX Configuration</h4></div></div></div><p>Through JMX, the Event Router module configuration can be changed while the container is running. These configuration changes are not persisted.</p><p>The JMX MBean that can be used to change the Event Router configuration is named <span class="application"><strong>org.mobicents.slee:name=EventRouterConfiguration</strong></span>, and provides getters and setters to change each property defined in the persistent configuration. See <a class="xref" href="management.html#management_jmx_console" title="4.4.1. JMX Console">Section 4.4.1, “JMX Console”</a> for how the JMX Console can be used to use this MBean.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="timer_facility_configuration"/>3.3.2. Timer Facility Configuration</h3></div></div></div><p>The JAIN SLEE Timer Facility is the module responsible for managing SLEE timers, and the number of threads it uses is configurable.</p><p>The Timer Facility configuration can be changed through an XML file and a JMX MBean.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="timer_facility_persistent_configuration"/>3.3.2.1. Timer Facility Persistent Configuration</h4></div></div></div><p>Configuration is done through an XML descriptor for each Mobicents Cluster. The XML file is named <code class="filename">jboss-beans.xml</code> and is located at <code class="filename">{JBOSS_HOME}/server/{profile_name}/deploy/mobicents-slee/META-INF</code></p><p>The configuration is exposed a JBoss Microcontainer Bean:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.JAINSLEE.TimerFacilityConfiguration&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.slee.container.management.jmx.TimerFacilityConfiguration&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">@org.jboss.aop.microcontainer.aspects.jmx.JMX(name=</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;org.mobicents.slee:name=TimerFacilityConfiguration&quot;,exposedInterface=</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.mobicents.slee.container.management.jmx.TimerFacilityConfigurationMBean.class,</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerDirectly=true)</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;timerThreads&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">4</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><div class="table"><a id="d0e846"/><p class="title"><b>Table 3.2. JAIN SLEE Timer Facility Bean Configuration</b></p><div class="table-contents"><table summary="JAIN SLEE Timer Facility Bean Configuration" width="100%" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Property Type</th><th>Description</th></tr></thead><tbody><tr><td>timerThreads</td><td>int</td><td>defines how many threads should be used by the Timer Facility</td></tr></tbody></table></div></div><br class="table-break"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="timer_facility_jmx_configuration"/>3.3.2.2. Timer Facility JMX Configuration</h4></div></div></div><p>Through JMX the Timer Facility module configuration can be changed with the container running. Note that such configuration changes are not persisted.</p><p>The JMX MBean which can be used to change the Timer Facility configuration is named <span class="application"><strong>org.mobicents.slee:name=TimerFacilityConfiguration</strong></span>, and provides getters and setters to change each property defined in the persistent configuration. The JMX Console can be used to use this MBean, see <a class="xref" href="management.html#management_jmx_console" title="4.4.1. JMX Console">Section 4.4.1, “JMX Console”</a>.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="profiles_configuration"/>3.3.3. Configuring JAIN SLEE Profiles</h3></div></div></div><p>JAIN SLEE Profiles is a component used to store data, usually related with a user and/or service profile. JAIN SLEE maps JAIN SLEE Profiles to a Java Persistence API (<acronym class="acronym">JPA</acronym>) Datasource, through Hibernate.
      </p><p>
      There are two configurations for JAIN SLEE Profiles provided as JBoss Microcontainer Beans:
      </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.JAINSLEE.Profiles.JPA.HSQLDBConfig&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.slee.container.deployment.profile.jpa.Configuration&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;persistProfiles&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">true</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;clusteredProfiles&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;hibernateDatasource&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">java:/DefaultDS</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;hibernateDialect&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.dialect.HSQLDialect</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">depends</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">jboss.jca:service=DataSourceBinding,name=DefaultDS</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">depends</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.JAINSLEE.Profiles.JPA.PostgreSQLConfig&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.slee.container.deployment.profile.jpa.Configuration&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;persistProfiles&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">true</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;clusteredProfiles&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">true</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;hibernateDatasource&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">java:/PostgresDS</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;hibernateDialect&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.hibernate.dialect.PostgreSQLDialect</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>Configurations can be changed, or new ones can be added. For new ones, ensure that the name attribute of the bean element is unique.</p></div><div class="table"><a id="d0e896"/><p class="title"><b>Table 3.3. JAIN SLEE Profiles Bean Configuration</b></p><div class="table-contents"><table summary="JAIN SLEE Profiles Bean Configuration" width="100%" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Property Type</th><th>Description</th></tr></thead><tbody><tr><td>persistProfiles</td><td>boolean</td><td>If true, profile changes are persisted into the data source.</td></tr><tr><td>clusteredProfiles</td><td>boolean</td><td>If true, then the container is aware there is a shared data source and that updates may be done by other nodes (for example, deletion of a JAIN SLEE profile table).</td></tr><tr><td>hibernateDatasource</td><td>String</td><td>The name of the Java Datasource deployed in the JBoss Application Server.</td></tr><tr><td>hibernateDialect</td><td>String</td><td>The java class name of the hibernate dialect to use, related with the selected datasource.</td></tr></tbody></table></div></div><br class="table-break"/><p>To switch the active configuration simply change the parameter injected in the bean named <span class="application"><strong>Mobicents.JAINSLEE.Container</strong></span>.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="other_configurations"/>3.3.4. Other Configurations</h3></div></div></div><p>Other JAIN SLEE runtime configuration is done through the following JBoss Microcontainer Bean:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.JAINSLEE.MobicentsManagement&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.slee.container.management.jmx.MobicentsManagement&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">@org.jboss.aop.microcontainer.aspects.jmx.JMX(</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;org.mobicents.slee:service=MobicentsManagement&quot;,</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exposedInterface=org.mobicents.slee.container.management.</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmx.MobicentsManagementMBean.class,</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerDirectly=true)</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">annotation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;entitiesRemovalDelay&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">1</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;timerThreads&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">8</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">property</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;loadClassesFirstFromAS&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">true</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">property</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><div class="table"><a id="d0e952"/><p class="title"><b>Table 3.4. Other JAIN SLEE Configurations</b></p><div class="table-contents"><table summary="Other JAIN SLEE Configurations" width="100%" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Property Type</th><th>Description</th></tr></thead><tbody><tr><td>entitiesRemovalDelay</td><td>int</td><td>The number of minutes before the container forces the ending of SBB entities from a service being deactivated.</td></tr><tr><td>timerThreads</td><td>int</td><td>The number of threads used by the timer facility.</td></tr></tbody></table></div></div><br class="table-break"/><p>This configuration can be changed with the container running with JMX. Note that such configuration changes are not persisted.</p><p>To change the configuraton, use the JMX MBean named <span class="application"><strong>org.mobicents.slee:service=MobicentsManagement</strong></span>, which provides getters and setters to change each property defined in the persistent configuration that is configurable with the container running. The JMX Console can be used to use this MBean, as described in <a class="xref" href="management.html#management_jmx_console" title="4.4.1. JMX Console">Section 4.4.1, “JMX Console”</a>.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="logging_configuration"/>3.3.5. Logging Configuration</h3></div></div></div><p>Logging configuration is documented in section <a class="xref" href="logging_traces_and_alarms.html#global_logging_config" title="5.1.1. Simplified Global Log4j Configuration">Section 5.1.1, “Simplified Global Log4j Configuration”</a></p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="congestion_control_configuration_"/>3.3.6. Congestion Control Configuration</h3></div></div></div><p>Congesture Control feature configuration is documented in section <a class="xref" href="advanced_topics.html#congestion_control_configuration" title="9.2.1. Congestion Control Configuration">Section 9.2.1, “Congestion Control Configuration”</a></p></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="install.html"><strong>Prev</strong>Chapter 2. Installing Mobicents JAIN SLEE</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="management.html"><strong>Next</strong>Chapter 4. Managing Mobicents JAIN SLEE</a></li></ul></body></html>