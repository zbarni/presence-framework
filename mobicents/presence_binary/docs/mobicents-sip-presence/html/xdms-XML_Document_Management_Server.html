<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Mobicents XML Document Management Server</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="SIP Presence Service User Guide"/><link rel="up" href="index.html" title="SIP Presence Service User Guide"/><link rel="prev" href="itsps-Installing_the_SIP_Presence_Service.html" title="Chapter 2. Installing the Mobicents SIP Presence Service"/><link rel="next" href="sps-SIP_Presence_Server.html" title="Chapter 4. Mobicents SIP Presence Server"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="itsps-Installing_the_SIP_Presence_Service.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="sps-SIP_Presence_Server.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="xdms-XML_Document_Management_Server"/>Chapter 3. Mobicents XML Document Management Server</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdms-Configuring_the_XDM_Server">3.1. Configuring the XDM Server</a></span></dt><dd><dl><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdms-Configuring_the_XDM_Server_XCAP_ROOT">3.1.1. Configuring the XDM Server XCAP root</a></span></dt><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdms-Configuring_the_XDM_Server_XCAP_Interface">3.1.2. Other configurations in the XDM Server XCAP Interface</a></span></dt><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdms-Configuring_the_XDM_Server_SIP_Interface">3.1.3. Configuring the XDM Server XCAP Diff SIP Subscription Interface</a></span></dt><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdms-Configuring_the_XDM_Server_Users">3.1.4. XDM Server User Profile Provisioning</a></span></dt><dt><span class="section"><a href="xdms-XML_Document_Management_Server.html#xdm-xcap_app_usages">3.1.5. XCAP Application Usages</a></span></dt></dl></dd></dl></div><p>The <span class="application"><strong>Mobicents XML Document Management Server</strong></span> (XDMS) is part of the <span class="application"><strong>Mobicents SIP Presence Service</strong></span>. It is the first free and open source implementation of an <span class="application"><strong>XML Document Management Server</strong></span> as defined in the Open Mobile Alliance (OMA) XML Document Management v1.1 specification. This functional element of next-generation IP communication networks is responsible for handling the management of user XML documents stored on the network side, such as presence authorization rules, contact and group lists (also known as resource lists), static presence information, and much more.</p><p>The <span class="application"><strong>XDM Server</strong></span> comprises the following functional elements:</p><div class="variablelist"><a id="xdms-Functional_Elements_of_the_XDM_Server"/><p class="title"><b>Functional Elements of the XDM Server</b></p><dl><dt><span class="term">Data Source</span></dt><dd><p>The XDM Server data source is where all user XML documents are stored. Information related to the server itself is also stored in this element along with the user's provisioned data.</p><p>The data source also handles subscriptions to updates on specific documents, or complete XCAP application usages.</p></dd><dt><span class="term">Aggregation Proxy</span></dt><dd><p>The aggregation proxy is responsible for handling an XDM client's XCAP requests.</p></dd><dt><span class="term">Authentication Proxy</span></dt><dd><p>The authentication proxy is responsible for authentication of the user related with each XCAP request handled.</p></dd><dt><span class="term">Request Processor</span></dt><dd><p>This element includes the XCAP Server logic to process an XCAP request and return a proper response, including authorization for the authenticated user.</p></dd><dt><span class="term">XDM Event Subscription Control</span></dt><dd><p>This element, using the SIP protocol, is responsible for handling subscriptions to documents managed by the XDM. Its functions include the authentication and authorization of a subscription, attachment to update events on specific documents or collections, and the sending of notifications when documents change. This interface is fully compatible with the XCAP DIFF event package, defined by IETF RFC 5875.</p></dd></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="xdms-Configuring_the_XDM_Server"/>3.1. Configuring the XDM Server</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="xdms-Configuring_the_XDM_Server_XCAP_ROOT"/>3.1.1. Configuring the XDM Server XCAP root</h3></div></div></div><p>The Mobicents XDM Server comes pre-configured for an XCAP root of http://&lt;hostname&gt;:8080/mobicents, hostname being the host/<acronym class="acronym">IP</acronym> used to start the server (127.0.0.1 by default). It is possible to change the host, the port and the last path segment:</p><div class="itemizedlist"><ul><li><p>Rename <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents.war</code> to the desired last path segment in the XCAP root (e.g. rename to xcap-root.war for an XCAP root of http://&lt;hostname&gt;:8080/xcap-root). The &lt;server_profile&gt; is the server configuration/profile used in the underlying <span class="application"><strong>JBoss AS</strong></span>, by default it is <span class="emphasis"><em>default</em></span></p></li><li><p>Edit <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/http-servlet-ra-DU-*.jar/META-INF/deploy-config.xml</code>. Uncomment and set custom servlet name again to the desired last path segment in the XCAP root.</p></li><li><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-xdms/3-beans/configuration/xdms/META-INF/jboss-beans.xml</code>. Note that the xcapRoot has a leading and trailing /. Also note that for the <span class="application"><strong>Integrated Server</strong></span> the path segment mobicents-xdms is mobicents-sip-presence.</p><p>This configuration part can also be done through JMX, using the MBean named <span class="emphasis"><em>org.mobicents.sippresence:name=XDMServerConfiguration</em></span>. The configuration changes through JMX are not persistent.</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="xdms-Configuring_the_XDM_Server_XCAP_Interface"/>3.1.2. Other configurations in the XDM Server XCAP Interface</h3></div></div></div><p>There are other configurable features related with the XCAP Interface:</p><div class="itemizedlist"><ul><li><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-xdms/3-beans/configuration/xdms/META-INF/jboss-beans.xml</code>. Note that for the <span class="application"><strong>Integrated Server</strong></span> the path segment mobicents-xdms is mobicents-sip-presence.</p><p>This configuration part can also be done through JMX, using the MBean named <span class="emphasis"><em>org.mobicents.sippresence:name=XDMServerConfiguration</em></span>. The configuration changes through JMX are not persistent.</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="xdms-Configuring_the_XDM_Server_SIP_Interface"/>3.1.3. Configuring the XDM Server XCAP Diff SIP Subscription Interface</h3></div></div></div><p>The Mobicents XDM Server SIP Interface can be configured regarding several features, such as subscription timers:</p><div class="itemizedlist"><ul><li><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-xdms/3-beans/configuration/sip-event/subscription/META-INF/jboss-beans.xml</code>. Note that for the <span class="application"><strong>Integrated Server</strong></span> the path segment mobicents-xdms is mobicents-sip-presence.</p><p>This configuration part can also be done through JMX, using the MBean named <span class="emphasis"><em>org.mobicents.sippresence:name=SipEventSubscriptionControl</em></span>. The configuratian changes through JMX are not persistent.</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="xdms-Configuring_the_XDM_Server_Users"/>3.1.4. XDM Server User Profile Provisioning</h3></div></div></div><p>The XCAP interface is public, used by users to manage their information such as buddy lists, presence authorization rules, etc, and needs to enforce user authentication. To do this, the server relies on the User Profile Enabler managed data, such as the users passwords, and this information must be provisioned. This can be done in two ways, both requiring the server to be running:</p><div class="variablelist"><dl><dt><span class="term">User Provisioning through an JMX Client</span></dt><dd><p>Users can be added/removed through the <span class="emphasis"><em>org.mobicents.sippresence:name=UserProfileControl</em></span> MBean. </p></dd><dt><span class="term">User Provisioning through the <span class="application"><strong>JBoss AS</strong></span> default datasource.</span></dt><dd><p>Users can be added/removed through adding/removing rows to the <span class="emphasis"><em>MOBICENTS_SLEE_ENABLER_USERPROFILES</em></span> table.</p></dd></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="xdms-Asserted_User_IDs"/>3.1.4.1. User Asserted IDs</h4></div></div></div><p>The XDM Server allows the usage of asserted user IDs, through the <code class="literal">X-3GPP-Asserted-Identity</code> or <code class="literal">X-XCAP-Asserted-Identity</code> header in the XCAP request. If the XDM Server is directly exposed to the public, this feature should be disabled, through the configuration of the XCAP Interface.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="xdms-Local_XCAP_Requests"/>3.1.4.2. Local XCAP Requests</h4></div></div></div><p>By default, the local (same host) XCAP requests will go around user authentication. This can also be disabled through configuration of the XCAP interface.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="xdms-Xcap_Diff_Super_Users"/>3.1.4.3. Xcap Diff Super Users</h4></div></div></div><p>It is possible to define a set of super users, through the configuration of the XCAP interface, which are authorized to subscribe any document or collection. Any other user may only subscribe documents in its own user directory, for each XCAP app usage deployed. By default there are no super users configured.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="xdm-xcap_app_usages"/>3.1.5. XCAP Application Usages</h3></div></div></div><p>What is an XCAP Application Usage?</p><p>"Each XCAP resource on a server is associated with an application.  In order for an application to use those resources, application specific conventions must be specified.  Those conventions include the XML schema that defines the structure and constraints of the data, well-known URIs to bootstrap access to the data, and so on.  All of those application specific conventions are defined by the application usage." RFC 4825</p><p>Each XCAP Application Usage defines:</p><div class="variablelist"><dl><dt><span class="term">Application Unique ID</span></dt><dd><p>The AUID used in XCAP URIs to point to a specific App Usage, e.g. <code class="literal">resource-lists</code> in http://xdms.mobicents.org:8080/xcap-root/resource-lists/users/sip:user@mobicents.org/index</p></dd><dt><span class="term">Default Document Namespace</span></dt><dd><p>Defines the namespace of elements/attributes without prefix in XCAP URIs, usually it matches the default namespace of the XML Schema for documents of the App Usage,e.g. in http://xdms.mobicents.org/xcap-root/pres-rules/users/sip:eduardo@mobicents.org/index/~~/watcherinfo/watcher-list/watcher[@id="8ajksjda7s"],  selection is made on <code class="literal">watcher</code> elements with the pres-rules default document namespace.</p></dd><dt><span class="term">MIME Type</span></dt><dd><p>MIME Type used when exchanging XML content.</p></dd><dt><span class="term">XML Schema and Data Constraints</span></dt><dd><p>The XML Schema to validate documents; Data constraints, which are impossible to validate with XML Schema, e.g. one element value must be a ISO country name (2 char) that belongs to Europe.</p></dd><dt><span class="term">Data Semantics</span></dt><dd><p>Semantic definition on documents content, used by applications filling data, not validated by servers.</p></dd><dt><span class="term">Naming Conventions</span></dt><dd><p>What is the document name for each user? Are there global documents under a specific name? XCAP Clients usually forget to follow these!</p></dd><dt><span class="term">Resource Interdependencies</span></dt><dd><p>One request may update other documents as well, e.g. global/index document in rls-services, a composition of all users/*/index <code class="literal">service</code> elements.</p></dd><dt><span class="term">Authorization Policies</span></dt><dd><p>What each user can read or write?</p></dd></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="xdm-xcap-app-usages_deployed"/>3.1.5.1. XCAP Application Usages Deployed</h4></div></div></div><p>The <span class="application"><strong>Mobicents XDM Server</strong></span> includes the following XCAP application usages:</p><div class="itemizedlist"><ul><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc5025">IETF Presence Rules (RFC 5025)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/Presence_simple_v1_1.aspx">OMA Presence Rules (OMA Presence Simple v1.1)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/xdm_v2_0.aspx">OMA Presence Content (OMA XDM v2.0)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4827">IETF Presence Document Content Manipulation (IETF RFC 4827)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4826">IETF Resource Lists</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/xdm_v1_1.aspx">OMA Group Usage List (OMA XDM v1.1)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4826">IETF RLS Services (RFC 4826)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/xdm_v2_0.aspx">OMA User Profile (OMA XDM v2.0)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/xdm_v2_0.aspx">OMA Locked User Profile (OMA XDM v2.0)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4825">IETF XCAP-CAPS (RFC 4825)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org/Technical/release_program/xdm_v1_1.aspx">OMA XCAP Directory (OMA XDM v1.1)</a>
			</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="xdm-developing_xcap_app_usages"/>3.1.5.2. Developing XCAP Application Usages</h4></div></div></div><p>The <span class="application"><strong>Mobicents XDM Server</strong></span> XCAP Application Usages are implemented with a few simple Java classes and some meta data, it is very easy to develop additional ones.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="xdm-developing_xcap_app_usages-app_usage_class"/>3.1.5.2.1. The AppUsage Class</h5></div></div></div><p>Each Application Usage is represented by a Java class extending the abstract <code class="literal">org.mobicents.xdm.server.appusage.AppUsage</code> class:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">mobicents</span><span class="java_separator">.</span><span class="java_plain">xcap</span><span class="java_separator">.</span><span class="java_plain">server</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">appusage</span><span class="java_separator">.</span><span class="java_plain">presrules</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsage</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_keyword">final</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;ID&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;pres-rules&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_keyword">final</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;DEFAULT_DOC_NAMESPACE&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;urn:ietf:params:xml:ns:pres-rules&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_keyword">final</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;MIMETYPE&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;application/auth-policy+xml&quot;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_keyword">static</span><span class="java_plain">&nbsp;</span><span class="java_keyword">final</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;AUTH_ONLY_DOCUMENT_NAME&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;index</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsage</span><span class="java_separator">(</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;schemaValidator</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">super</span><span class="java_separator">(</span><span class="java_plain">ID</span><span class="java_separator">,</span><span class="java_plain">DEFAULT_DOC_NAMESPACE</span><span class="java_separator">,</span><span class="java_plain">MIMETYPE</span><span class="java_separator">,</span><span class="java_plain">schemaValidator</span><span class="java_separator">,</span><span class="java_plain">AUTH_ONLY_DOCUMENT_NAME</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><p>Methods for schema validation, data constraints and resource interdependencies can be overriden:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;validateSchema</span><span class="java_separator">(...);</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;checkConstraintsOnPut</span><span class="java_separator">(...);</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;checkConstraintsOnDelete</span><span class="java_separator">(...);</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;processResourceInterdependenciesOnPutDocument</span><span class="java_separator">(...);</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;processResourceInterdependenciesOnDeleteElement</span><span class="java_separator">(...);</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>RLSServicesAppUsage and ResourceListsAppUsage are good examples on how to implement those methods.</p></div><p>Multiple constructors exposed to provide your App Usage XML Schemas Validators and/or Authorization Policies:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;auid</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;defaultDocumentNamespace</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;mimetype</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;schemaValidator</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;authorizedUserDocumentName</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;auid</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;defaultDocumentNamespace</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;mimetype</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;schemaValidator</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">AuthorizationPolicy</span><span class="java_plain">&nbsp;authorizationPolicy</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;auid</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;defaultDocumentNamespace</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;mimetype</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;schemaValidator</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;uniquenessSchemaValidator</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;authorizedUserDocumentName</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_separator">(</span><span class="java_type">String</span><span class="java_plain">&nbsp;auid</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;defaultDocumentNamespace</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;mimetype</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;schemaValidator</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">Validator</span><span class="java_plain">&nbsp;uniquenessSchemaValidator</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">AuthorizationPolicy</span><span class="java_plain">&nbsp;authorizationPolicy</span><span class="java_separator">);</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>Default Authorization Policy if custom is not provided, an user can read/write his/her own documents, with the specified document name.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="xdm-developing_xcap_app_usages-app_usage_factory_class"/>3.1.5.2.2. The AppUsageFactory Class</h5></div></div></div><p>An implementation of an object factory is required, which should extend class named <code class="literal">org.mobicents.xdm.server.appusage.AppUsageFactory</code>:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">mobicents</span><span class="java_separator">.</span><span class="java_plain">xcap</span><span class="java_separator">.</span><span class="java_plain">server</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">appusage</span><span class="java_separator">.</span><span class="java_plain">presrules</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsageFactory</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsageFactory</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">private</span><span class="java_plain">&nbsp;</span><span class="java_type">Schema</span><span class="java_plain">&nbsp;schema&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsageFactory</span><span class="java_separator">(</span><span class="java_type">Schema</span><span class="java_plain">&nbsp;schema</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">this</span><span class="java_separator">.</span><span class="java_plain">schema&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;schema</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsage</span><span class="java_plain">&nbsp;getAppUsageInstance</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsage</span><span class="java_separator">(</span><span class="java_plain">schema</span><span class="java_separator">.</span><span class="java_plain">newValidator</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getAppUsageId</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsage</span><span class="java_separator">.</span><span class="java_plain">ID</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsageDataSourceInterceptor</span><span class="java_plain">&nbsp;getDataSourceInterceptor</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><p>The factory is used to maintain a cache/pool of your app usage objects, since XML Schema Validator are expensive objects to create.</p><p>The factory can also provide a DataSource Interceptor, which will be used to generate a document on request (for instance the oma-xcap-directory generates the user document for each request).</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="xdm-developing_xcap_app_usages-app_usage_deployer_class"/>3.1.5.2.3. The AppUsageDeployer Class And XML Descriptor</h5></div></div></div><p>A deployer to load/unload the App Usage into the XDM Server, it should extend class named <code class="literal">org.mobicents.xdm.server.appusage.AppUsageDeployer</code>:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">mobicents</span><span class="java_separator">.</span><span class="java_plain">xcap</span><span class="java_separator">.</span><span class="java_plain">server</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">appusage</span><span class="java_separator">.</span><span class="java_plain">presrules</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_operator">//</span><span class="java_plain">&nbsp;</span><span class="java_separator">...</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsageDeployer</span><span class="java_plain">&nbsp;</span><span class="java_keyword">extends</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsageDeployer</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">AppUsageFactory</span><span class="java_plain">&nbsp;createAppUsageFactory</span><span class="java_separator">(</span><span class="java_type">Schema</span><span class="java_plain">&nbsp;schema</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsageFactory</span><span class="java_separator">(</span><span class="java_plain">schema</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;@</span><span class="java_type">Override</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getSchemaRootNamespace</span><span class="java_separator">()</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">return</span><span class="java_plain">&nbsp;</span><span class="java_type">PresRulesAppUsage</span><span class="java_separator">.</span><span class="java_plain">DEFAULT_DOC_NAMESPACE</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_separator">}</span>
</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><p>Multiple XML schema files may be combined, starting point is the namespace returned by <code class="literal">getSchemaRootNamepsace()</code>, which not always is the same as the app usage's default doc namespace.</p><p>The deployer is actually a JBoss Microcontainer Bean, and a <code class="filename">jboss-beans.xml</code> file is needed in the META-INF directory of the app usage jar:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_processing_instruction">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;UTF-8&quot;?&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">deployment</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;urn:jboss:bean-deployer:2.0&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_comment">&lt;!--&nbsp;Registers&nbsp;the&nbsp;APP&nbsp;USAGE&nbsp;DEPLOYER&nbsp;AS&nbsp;JBOSS&nbsp;MICROCONTAINER&nbsp;BEAN&nbsp;--&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bean</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;Mobicents.XDMS.AppUsage.Deployer.PresRules&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">class</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.mobicents.xcap.server.slee.appusage.presrules.PresRulesAppUsageDeployer&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_comment">&lt;!--&nbsp;this&nbsp;app&nbsp;usage&nbsp;depends&nbsp;on&nbsp;app&nbsp;usage&nbsp;management&nbsp;only&nbsp;--&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">depends</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Mobicents.XDMS.AppUsageManagement</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">depends</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bean</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">deployment</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>A unique bean “name” is need, and of course the “class” name of the Deployer, nothing else needs to be changed.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="xdm-developing_xcap_app_usages-packaging_and_deploy"/>3.1.5.2.4. Packaging and Deploying the XCAP Application Usage</h5></div></div></div><p>The Application Usage classes and metadata should be packed in a jar, with a structure similar to:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;example-appusage.jar</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|-META-INF</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|---jboss-beans.xml&nbsp;(jboss&nbsp;mc&nbsp;bean&nbsp;descriptor)</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|-org</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|---mobicents</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------xdm</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|---------server&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------------appusage</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|---------------example</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------------------ExampleAppUsage&nbsp;(app&nbsp;usage&nbsp;class)</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------------------ExampleAppUsageFactory&nbsp;(factory&nbsp;class)</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------------------ExampleAppUsageDeployer&nbsp;(deployer&nbsp;class)</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;|------------------ExampleAuthorizationPolicy&nbsp;(optional&nbsp;auth&nbsp;policy&nbsp;class)&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>To deploy simply drop the jar in <code class="filename">$JBOSS_HOME/server/default/deploy/mobicents-xdms(or mobicents-sip-presence)/3.beans/appusages</code>. To undeploy simply delete the jar.</p><p>What about the XSD file(s)? Simply copy to the <code class="filename">xsd</code> directory inside the <code class="filename">appusages</code> directory, a few limitations on multiple XSD files combination:</p><div class="variablelist"><dl><dt><span class="term"/></dt><dd><p>References between namespaces on different files must be done through <code class="literal">import</code> element.</p></dd><dt><span class="term"/></dt><dd><p>A namespace can only be defined within a single xsd file.</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="xdm-developing_xcap_app_usages-contributing"/>3.1.5.2.5. Submiting XCAP Application Usages to Mobicents</h5></div></div></div><p>Contribution of additional App Usages are welcome, but a few rules apply:</p><div class="variablelist"><dl><dt><span class="term"/></dt><dd><p>Implements a standard app usage, defined by IETF, OMA or other standard organization.</p></dd><dt><span class="term"/></dt><dd><p>A document is provided defining the app usage. This document may be the one defined by the standard organization.</p></dd><dt><span class="term"/></dt><dd><p>The app usage jar and XSDs are ready to deploy, i.e., if the app usage was already tested and works.</p></dd><dt><span class="term"/></dt><dd><p>Includes JUnit basic tests to validate put/get and delete of a document, similar to the ones included in RLS Services app usage source code, see the ones in the SVN, at <code class="filename">trunk/servers/sip-presence/xdm/server/appusages/rls-services/tests</code>. If the app usage defines data constraints or resource interdependencies then these should be validated by tests too.</p></dd></dl></div></div></div></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="itsps-Installing_the_SIP_Presence_Service.html"><strong>Prev</strong>Chapter 2. Installing the Mobicents SIP Presence ...</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="sps-SIP_Presence_Server.html"><strong>Next</strong>Chapter 4. Mobicents SIP Presence Server</a></li></ul></body></html>