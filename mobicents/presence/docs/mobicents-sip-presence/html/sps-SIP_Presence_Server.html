<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 4. Mobicents SIP Presence Server</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="SIP Presence Service User Guide"/><link rel="up" href="index.html" title="SIP Presence Service User Guide"/><link rel="prev" href="xdms-XML_Document_Management_Server.html" title="Chapter 3. Mobicents XML Document Management Server"/><link rel="next" href="rls-Resource_List_Server.html" title="Chapter 5. Mobicents Resource List Server"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="xdms-XML_Document_Management_Server.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="rls-Resource_List_Server.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sps-SIP_Presence_Server"/>Chapter 4. Mobicents SIP Presence Server</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Functional_Architecture_of_the_SIP_Presence_Server">4.1. Functional Architecture of the SIP Presence Server</a></span></dt><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Configuring_The_Sip_Presence_Server">4.2. Configuring The SIP Presence Server</a></span></dt><dd><dl><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Configuring_the_Abstract_SIP_Event_Publication_Interface">4.2.1. Configuring the Abstract SIP Event Publication Interface</a></span></dt><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Configuring_the_Abstract_SIP_Event_Subscription_Interface">4.2.2. Configuring the Abstract SIP Event Subscription Interface</a></span></dt><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Configuring_the_Concrete_SIP_Event_Interfaces">4.2.3. Configuring the Concrete SIP Event Interfaces</a></span></dt></dl></dd><dt><span class="section"><a href="sps-SIP_Presence_Server.html#sps-Content_Accepted_By_The_Sip_Presence_Server">4.3. Content accepted by the SIP Presence Server</a></span></dt></dl></div><p>The <span class="application"><strong>Mobicents SIP Presence Server</strong></span> is a free and open source implementation of a SIP Presence Server, as defined by the Internet Engineering Task Force (IETF), the Open Mobile Alliance (OMA), the 3rd Generation Partnership Project (3GPP) and the European Telecommunications Standards Institute (ETSI).</p><p>The <span class="application"><strong>SIP Presence Server</strong></span> is an entity that accepts, stores and distributes SIP presence information, fully supporting OMA Presence SIMPLE Data Extensions V1.2.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sps-Functional_Architecture_of_the_SIP_Presence_Server"/>4.1. Functional Architecture of the SIP Presence Server</h2></div></div></div><p>The <span class="application"><strong>SIP Presence Server</strong></span> is comprised of the following functional elements:</p><div class="variablelist"><a id="sps-Functional_Elements_of_the_SIP_Presence_Server"/><dl><dt><span class="term">Presence Publication Control</span></dt><dd><p>This functional element manages the publication of presence events, which includes the handling of new publications and the refreshing, modification or removal of already-published information.</p><p>This element is also responsible for composing all of the different publications for the same resource. This is because the presence resource, which is also called a <span class="emphasis"><em>presentity</em></span>, can have multiple publications simultaneously, such as some states published by a user agent or device, and some location data published by a Presence Network Agent (on behalf of the presentity).</p><p>In some presence networks, it may be of interest to allow resources to have a static presence state stored in the XDM Server. In cases like these, Presence Publication Control may need to interface with the <span class="application"><strong>XDM Server</strong></span> to retrieve and subscribe to (learn about changes to) that information, and use it when composing the final presence information document.</p></dd><dt><span class="term">Presence Content Manipulation Control</span></dt><dd><p>This functional element is responsible for subscribing presence content stored in the XDMS, create and manage the related publications in the Presence Publication Contro.</p></dd><dt><span class="term">Presence Subscription Control</span></dt><dd><p>This functional element handles subscriptions to presence events or to the list of subscribers (watchers) for any specific resource. It is responsible for emitting notifications related to those subscriptions.</p><p>Presence authorization rules, which define if a subscription is allowed or rejected and, if allowed, define which transformations to the original presence events are needed, are stored on the <span class="application"><strong>XDM Server</strong></span> by the user. Presence Subscription Control needs to retrieve and subscribe to that information.</p></dd><dt><span class="term">Presence Rules Cache</span></dt><dd><p>This element is responsible for interfacing with the <span class="application"><strong>XDM Server</strong></span> that manages the user's XML presence rules documents. It is responsible for providing the presence rules to the Presence Subscription Control, which are used to authorize the subscriptions it handles.</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sps-Configuring_The_Sip_Presence_Server"/>4.2. Configuring The SIP Presence Server</h2></div></div></div><p>Several features of the SIP Presence Server are configurable, through XML files or JMX:</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sps-Configuring_the_Abstract_SIP_Event_Publication_Interface"/>4.2.1. Configuring the Abstract SIP Event Publication Interface</h3></div></div></div><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-sip-presence/3-beans/configuration/sip-event/publication/META-INF/jboss-beans.xml</code>.</p><p>This configuration part can also be done through JMX, using the <span class="emphasis"><em>org.mobicents.sippresence:name=SipEventPublicationControl</em></span> MBean. The configuration changes through JMX are not persistent.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sps-Configuring_the_Abstract_SIP_Event_Subscription_Interface"/>4.2.2. Configuring the Abstract SIP Event Subscription Interface</h3></div></div></div><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-sip-presence/3-beans/configuration/sip-event/subscription/META-INF/jboss-beans.xml</code>.</p><p>This configuration part can also be done through JMX, using the <span class="emphasis"><em>org.mobicents.sippresence:name=SipEventSubscriptionControl</em></span> MBean. The configuration changes through JMX are not persistent.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sps-Configuring_the_Concrete_SIP_Event_Interfaces"/>4.2.3. Configuring the Concrete SIP Event Interfaces</h3></div></div></div><p>Edit the properties in file <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-sip-presence/3-beans/configuration/sip-presence/META-INF/jboss-beans.xml</code>.</p><p>This configuration part can also be done through JMX, using the <span class="emphasis"><em>org.mobicents.sippresence:name=SipPresenceServerManagement</em></span> MBean. The configuration changes through JMX are not persistent.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sps-Content_Accepted_By_The_Sip_Presence_Server"/>4.3. Content accepted by the SIP Presence Server</h2></div></div></div><p>The <span class="application"><strong>Mobicents SIP Presence Server</strong></span> accepts the following content type to be published and subscribed by users:</p><div class="itemizedlist"><ul><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc3863">IETF Presence Information Data Format - PIDF (RFC 3863)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4479">A Data Model for Presence (RFC 4479)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4480">IETF Rich Presence Information Data format - RPID (RFC 4480)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4481">IETF Timed Presence Extensions (RFC 4481)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4482">IETF Contact Information in Presence Information Data Format - CIPID (RFC 4482)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc4199">IETF A Presence-based GEOPRIV Location Object Format - GEOPRIV (RFC 4199)</a>
			</p></li><li><p>
				<a class="ulink" href="http://tools.ietf.org/html/rfc5196">IETF SIP UA Capability Extension to Presence Information Data Format (RFC 5196)</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org">OMA Extensions to PIDF and Presence Data Model</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org">OMA PDE - Presence SIMPLE Data Extension 1.0</a>
			</p></li><li><p>
				<a class="ulink" href="http://www.openmobilealliance.org">OMA PDE - Presence SIMPLE Data Extension 1.1</a>
			</p></li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>The content accepted can be easily extended/modified, one just need to add/remove the related XML schema files in the directory <code class="filename">$JBOSS_HOME/server/&lt;server_profile&gt;/deploy/mobicents-sip-presence/3-beans/configuration/sip-presence/xsd</code>.</p></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="xdms-XML_Document_Management_Server.html"><strong>Prev</strong>Chapter 3. Mobicents XML Document Management Serv...</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="rls-Resource_List_Server.html"><strong>Next</strong>Chapter 5. Mobicents Resource List Server</a></li></ul></body></html>