<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 2. Resource Adaptor Type</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Mobicents JAIN SLEE HTTP Servlet Resource Adaptor User Guide"/><link rel="up" href="index.html" title="Mobicents JAIN SLEE HTTP Servlet Resource Adaptor User Guide"/><link rel="prev" href="introduction.html" title="Chapter 1. Introduction to Mobicents JAIN SLEE HTTP Servlet Resource Adaptor"/><link rel="next" href="ra.html" title="Chapter 3. Resource Adaptor Implementation"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="introduction.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ra.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype"/>Chapter 2. Resource Adaptor Type</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ratype.html#ratype_activities">2.1. Activities</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_events">2.2. Events</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_aci_factory">2.3. Activity Context Interface Factory</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_ra_interface">2.4. Resource Adaptor Interface</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_restrictions">2.5. Restrictions</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_sbb_code_examples">2.6. Sbb Code Examples</a></span></dt><dd><dl><dt><span class="section"><a href="ratype.html#ratype_sbb_code_examples_get_request">2.6.1. GET Request Event Handling</a></span></dt><dt><span class="section"><a href="ratype.html#ratype_sbb_code_examples_put_request">2.6.2. PUT Request Event Handling With Session Creation</a></span></dt></dl></dd></dl></div><p>The Resource Adaptor Type is the interface which defines the contract between the RA implementations, the SLEE container, and the Applications running in it.</p><p>The name of the RA Type is <code class="literal">HttpServletResourceAdaptorType</code>, its vendor is <code class="literal">org.mobicents</code> and its version is <code class="literal">1.0</code>.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_activities"/>2.1. Activities</h2></div></div></div><p>The Resource Adaptor Type defines two activity objects, the types <code class="literal">net.java.slee.resource.http.HttpServletRequestActivity</code> and <code class="literal">net.java.slee.resource.http.HttpSessionActivity</code>.</p><p>The <code class="literal">HttpServletRequestActivity</code> represents a specific incoming request. It is created by the Resource Adaptor when processing the incoming event, unless the request is received with an <code class="literal">HttpSession</code>. The activity ending is done by the Resource Adaptor once the related request event is unreferenced inside the SLEE Container. The activity object interface is defined as follows:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;net</span><span class="java_separator">.</span><span class="java_plain">java</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletRequestActivity</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_javadoc_comment">/**</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Method&nbsp;to&nbsp;fetch&nbsp;the&nbsp;Request&nbsp;ID&nbsp;for&nbsp;this&nbsp;request.</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="java_javadoc_tag">@return</span><span class="java_javadoc_comment">&nbsp;</span>
<!--  --><br/><span class="java_javadoc_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">Object</span><span class="java_plain">&nbsp;getRequestID</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div class="variablelist"><dl><dt><span class="term">The <code class="literal">getRequestID()</code> method:</span></dt><dd><p>Retrieves the Request's ID.</p></dd></dl></div><p>The <code class="literal">HttpSessionActivity</code> represents an <code class="literal">HttpSession</code>. It is created on demand by an SBB, through the RA SBB Interface, and ends on timeout, managed by the underlying HTTP Servlet framework, or by an SBB, invoking the <code class="literal">invalidate()</code> on the related <code class="literal">HttpSession</code> Object. The activity object interface is defined as follows:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;net</span><span class="java_separator">.</span><span class="java_plain">java</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpSessionActivity</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getSessionId</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div class="variablelist"><dl><dt><span class="term">The <code class="literal">getSessionId()</code> method:</span></dt><dd><p>Retrieves the Session's ID.</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_events"/>2.2. Events</h2></div></div></div><p>The Events fired by HTTP Servlet Resource Adaptor represent an incoming HTTP Request, and for each HTTP Request a different event type is used for each activity type. The table below lists the Resource Adaptor Type event types.</p><div class="table"><a id="d0e405"/><p class="title"><b>Table 2.1. Events fired on the HttpServletRequestActivity:</b></p><div class="table-contents"><table summary="Events fired on the HttpServletRequestActivity:" width="100%" border="1"><colgroup><col align="left"/><col align="left"/><col align="left"/><col align="left"/><col align="left"/></colgroup><thead><tr><th align="left">Name</th><th align="left">Vendor</th><th align="left">Version</th><th align="left">Event Class</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">net.java. slee.resource. http.events. incoming.request. HEAD</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">HEAD</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. GET</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">GET</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. POST</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">POST</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. PUT</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">PUT</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. DELETE</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">DELETE</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. OPTIONS</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">OPTIONS</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.request. TRACE</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">TRACE</code> HTTP request.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>Spaces where introduced in <code class="literal">Name</code> and <code class="literal">Event Class</code> column values, to correctly render the table. Please remove them when using copy/paste.</p></div><div class="table"><a id="d0e534"/><p class="title"><b>Table 2.2. Events fired on the HttpSessionActivity:</b></p><div class="table-contents"><table summary="Events fired on the HttpSessionActivity:" width="100%" border="1"><colgroup><col align="left"/><col align="left"/><col align="left"/><col align="left"/><col align="left"/></colgroup><thead><tr><th align="left">Name</th><th align="left">Vendor</th><th align="left">Version</th><th align="left">Event Class</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">net.java. slee.resource. http.events. incoming.session. HEAD</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">HEAD</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. GET</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">GET</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. POST</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">POST</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. PUT</td><td align="left">net.java. slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">PUT</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. DELETE</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">DELETE</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. OPTIONS</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">OPTIONS</code> HTTP request.</td></tr><tr><td align="left">net.java. slee.resource. http.events. incoming.session. TRACE</td><td align="left">net.java.slee</td><td align="left">1.0</td><td align="left">net.java. slee.resource. http.events. HttpServletRequestEvent</td><td align="left">An incoming <code class="literal">TRACE</code> HTTP request.</td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>Spaces where introduced in <code class="literal">Name</code> and <code class="literal">Event Class</code> column values, to correctly render the table. Please remove them when using copy/paste.</p></div><p>All event types use the same type <code class="literal">net.java.slee.resource.http.events.HttpServletRequestEvent</code>. It's interface is as follows:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;net</span><span class="java_separator">.</span><span class="java_plain">java</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">.</span><span class="java_plain">events</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">.</span><span class="java_type">HttpServletRequest</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">.</span><span class="java_type">HttpServletResponse</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletRequestEvent</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletRequest</span><span class="java_plain">&nbsp;getRequest</span><span class="java_separator">();</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletResponse</span><span class="java_plain">&nbsp;getResponse</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">String</span><span class="java_plain">&nbsp;getId</span><span class="java_separator">();</span>
</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div class="variablelist"><dl><dt><span class="term">The <code class="literal">getRequest()</code> method:</span></dt><dd><p>Retrieves the HttpServletRequest which is associated with the event.</p></dd><dt><span class="term">The <code class="literal">getResponse()</code> method:</span></dt><dd><p>Retrieves the HttpServletResponse which is associated with the request, which can be used to reply to the incoming request.</p></dd><dt><span class="term">The <code class="literal">getId()</code> method:</span></dt><dd><p>Retrieves unique event ID.</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_aci_factory"/>2.3. Activity Context Interface Factory</h2></div></div></div><p>The Resource Adaptor's Activity Context Interface Factory is of type <code class="literal">net.java.slee.resource.http.HttpServletRaActivityContextInterfaceFactory</code>, it allows the SBB to retrieve the <code class="literal">ActivityContextInterface</code> related with an existing Resource Adaptor activity object. The interface is defined as follows:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;net</span><span class="java_separator">.</span><span class="java_plain">java</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_type">ActivityContextInterface</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_type">FactoryException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_type">UnrecognizedActivityException</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletRaActivityContextInterfaceFactory</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">ActivityContextInterface</span><span class="java_plain">&nbsp;getActivityContextInterface</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpSessionActivity</span><span class="java_plain">&nbsp;activity</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">NullPointerException</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">UnrecognizedActivityException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">FactoryException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">ActivityContextInterface</span><span class="java_plain">&nbsp;getActivityContextInterface</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpServletRequestActivity</span><span class="java_plain">&nbsp;activity</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">NullPointerException</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">UnrecognizedActivityException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">FactoryException</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_ra_interface"/>2.4. Resource Adaptor Interface</h2></div></div></div><p>The HTTP Servlet Resource Adaptor interface, of type <code class="literal">net.java.slee.resource.http.HttpServletRaSbbInterface</code> , which an SBB uses to create HtppSessionActivity instances, is defined as follows:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;net</span><span class="java_separator">.</span><span class="java_plain">java</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_plain">http</span><span class="java_separator">.</span><span class="java_type">HttpSession</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_type">SLEEException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_type">ActivityAlreadyExistsException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">slee</span><span class="java_separator">.</span><span class="java_plain">resource</span><span class="java_separator">.</span><span class="java_type">StartActivityException</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">interface</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpServletRaSbbInterface</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">HttpSessionActivity</span><span class="java_plain">&nbsp;getHttpSessionActivity</span><span class="java_separator">(</span><span class="java_type">HttpSession</span><span class="java_plain">&nbsp;httpSession</span><span class="java_separator">)</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;&nbsp;</span><span class="java_type">NullPointerException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">IllegalArgumentException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">IllegalStateException</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ActivityAlreadyExistsException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">StartActivityException</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">SLEEException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre><div class="variablelist"><dl><dt><span class="term">The <code class="literal">getHttpSessionActivity(HttpSession)</code> method:</span></dt><dd><p>Retrieves an <code class="literal">HttpSessionActivity</code> for the specified <code class="literal">HttpSession</code>. If the activity does not exist a new one is created.</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_restrictions"/>2.5. Restrictions</h2></div></div></div><p>The HTTP Servlet
		does imposes some restrictions on the usage of the
		<code class="literal">HTTP Servlet</code>
		API java objects:
	</p><div class="variablelist"><dl><dt><span class="term">
				The
				<code class="literal">getAttribute(String)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such parameter value
					is
					used a SecurityException is thrown.
				</p></dd><dt><span class="term">
				The
				<code class="literal">getValue(String)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such parameter value
					is
					used a SecurityException is thrown.
				</p></dd><dt><span class="term">
				The
				<code class="literal">putValue(String,Object)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such value is used on
					the first parameter a SecurityException is thrown.
				</p></dd><dt><span class="term">
				The
				<code class="literal">removeAttribute(String)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such parameter value
					is
					used a SecurityException is thrown.
				</p></dd><dt><span class="term">
				The
				<code class="literal">removeValue(String)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such parameter value
					is
					used a SecurityException is thrown.
				</p></dd><dt><span class="term">
				The
				<code class="literal">setAttribute(String,Object)</code>
				method of the
				<code class="literal">HttpSession</code>
				object, retrieved from a request:
			</span></dt><dd><p>
					The
					<code class="literal">_ENTRY_POINT</code>
					attribute is reserved for internal usage, if such value is used on
					the first parameter a SecurityException is thrown.
				</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ratype_sbb_code_examples"/>2.6. Sbb Code Examples</h2></div></div></div><p>The following code examples shows how to use the Resource Adaptor Type for common functionalities</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="ratype_sbb_code_examples_get_request"/>2.6.1. GET Request Event Handling</h3></div></div></div><p>The following code examples the handling of an HTTP GET request:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;onGet</span><span class="java_separator">(</span><span class="java_type">HttpServletRequestEvent</span><span class="java_plain">&nbsp;event</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ActivityContextInterface</span><span class="java_plain">&nbsp;aci</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;detach&nbsp;from&nbsp;</span><span class="java_type">HttpServletRequestActivity</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aci</span><span class="java_separator">.</span><span class="java_plain">detach</span><span class="java_separator">(</span><span class="java_plain">sbbContext</span><span class="java_separator">.</span><span class="java_plain">getSbbLocalObject</span><span class="java_separator">());</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpServletResponse</span><span class="java_plain">&nbsp;response&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;event</span><span class="java_separator">.</span><span class="java_plain">getResponse</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">try</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">PrintWriter</span><span class="java_plain">&nbsp;w&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;response</span><span class="java_separator">.</span><span class="java_plain">getWriter</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w</span><span class="java_separator">.</span><span class="java_plain">print</span><span class="java_separator">(</span><span class="java_literal">&quot;onGet&nbsp;OK!&nbsp;Served&nbsp;by&nbsp;SBB&nbsp;=&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;getSbbId</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w</span><span class="java_separator">.</span><span class="java_plain">flush</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response</span><span class="java_separator">.</span><span class="java_plain">flushBuffer</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">info</span><span class="java_separator">(</span><span class="java_literal">&quot;HttpServletRAExampleSbb:&nbsp;GET&nbsp;Request&nbsp;received&nbsp;and&nbsp;OK!&nbsp;response&nbsp;sent.&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_keyword">catch</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">Exception</span><span class="java_plain">&nbsp;e</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log</span><span class="java_separator">.</span><span class="java_plain">error</span><span class="java_separator">(</span><span class="java_plain">e</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="ratype_sbb_code_examples_put_request"/>2.6.2. PUT Request Event Handling With Session Creation</h3></div></div></div><p>The following code examples the handling of an HTTP PUT request, and the creation of an HttpSessionActivity:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;onPut</span><span class="java_separator">(</span><span class="java_type">HttpServletRequestEvent</span><span class="java_plain">&nbsp;event</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ActivityContextInterface</span><span class="java_plain">&nbsp;aci</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">SbbLocalObject</span><span class="java_plain">&nbsp;sbbLocalObject&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;sbbContext</span><span class="java_separator">.</span><span class="java_plain">getSbbLocalObject</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;detach&nbsp;from&nbsp;</span><span class="java_type">HttpServletRequestActivity</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aci</span><span class="java_separator">.</span><span class="java_plain">detach</span><span class="java_separator">(</span><span class="java_plain">sbbLocalObject</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">try</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_operator">//</span><span class="java_plain">&nbsp;here&nbsp;we&nbsp;will&nbsp;setup&nbsp;a&nbsp;session&nbsp;activity&nbsp;before&nbsp;sending&nbsp;the&nbsp;response&nbsp;back</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_keyword">if</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">httpServletRaSbbInterface&nbsp;</span><span class="java_operator">==</span><span class="java_plain">&nbsp;</span><span class="java_literal">null</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">Context</span><span class="java_plain">&nbsp;myEnv&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">Context</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">InitialContext</span><span class="java_separator">().</span><span class="java_plain">lookup</span><span class="java_separator">(</span><span class="java_literal">&quot;java:comp/env&quot;</span><span class="java_separator">);</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpServletRaSbbInterface&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">HttpServletRaSbbInterface</span><span class="java_separator">)</span><span class="java_plain">&nbsp;myEnv</span><span class="java_separator">.</span><span class="java_plain">lookup</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;slee/resources/mobicents/httpservlet/sbbrainterface&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpServletRaActivityContextInterfaceFactory&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">(</span><span class="java_type">HttpServletRaActivityContextInterfaceFactory</span><span class="java_separator">)</span><span class="java_plain">&nbsp;myEnv</span><span class="java_separator">.</span><span class="java_plain">lookup</span><span class="java_separator">(</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;slee/resources/mobicents/httpservlet/acifactory&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpSession</span><span class="java_plain">&nbsp;httpSession&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;event</span><span class="java_separator">.</span><span class="java_plain">getRequest</span><span class="java_separator">().</span><span class="java_plain">getSession</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpSessionActivity</span><span class="java_plain">&nbsp;httpSessionActivity&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;httpServletRaSbbInterface</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getHttpSessionActivity</span><span class="java_separator">(</span><span class="java_plain">httpSession</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">ActivityContextInterface</span><span class="java_plain">&nbsp;httpSessionActivityContextInterface&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpServletRaActivityContextInterfaceFactory</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">.</span><span class="java_plain">getActivityContextInterface</span><span class="java_separator">(</span><span class="java_plain">httpSessionActivity</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;httpSessionActivityContextInterface</span><span class="java_separator">.</span><span class="java_plain">attach</span><span class="java_separator">(</span><span class="java_plain">sbbLocalObject</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">HttpServletResponse</span><span class="java_plain">&nbsp;response&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;event</span><span class="java_separator">.</span><span class="java_plain">getResponse</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">PrintWriter</span><span class="java_plain">&nbsp;w&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;response</span><span class="java_separator">.</span><span class="java_plain">getWriter</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w</span><span class="java_separator">.</span><span class="java_plain">print</span><span class="java_separator">(</span><span class="java_literal">&quot;onPut&nbsp;OK!&nbsp;Served&nbsp;by&nbsp;SBB&nbsp;=&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;getSbbId</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w</span><span class="java_separator">.</span><span class="java_plain">flush</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response</span><span class="java_separator">.</span><span class="java_plain">flushBuffer</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log</span><span class="java_separator">.</span><span class="java_plain">info</span><span class="java_separator">(</span><span class="java_literal">&quot;HttpServletRAExampleSbb:&nbsp;PUT&nbsp;Request&nbsp;received&nbsp;and&nbsp;OK!&nbsp;response&nbsp;sent.&quot;</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span><span class="java_plain">&nbsp;</span><span class="java_keyword">catch</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_type">Exception</span><span class="java_plain">&nbsp;e</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log</span><span class="java_separator">.</span><span class="java_plain">error</span><span class="java_separator">(</span><span class="java_plain">e</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_separator">}</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="introduction.html"><strong>Prev</strong>Chapter 1. Introduction to Mobicents JAIN SLEE HT...</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="ra.html"><strong>Next</strong>Chapter 3. Resource Adaptor Implementation</a></li></ul></body></html>