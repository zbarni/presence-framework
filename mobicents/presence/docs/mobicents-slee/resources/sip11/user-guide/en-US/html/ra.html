<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Resource Adaptor Implementation</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="Mobicents JAIN SLEE SIP11 Resource Adaptor User Guide"/><link rel="up" href="index.html" title="Mobicents JAIN SLEE SIP11 Resource Adaptor User Guide"/><link rel="prev" href="ratype.html" title="Chapter 2. Resource Adaptor Type"/><link rel="next" href="setup.html" title="Chapter 4. Setup"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ratype.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="setup.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra"/>Chapter 3. Resource Adaptor Implementation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ra.html#ra_configuration">3.1. Configuration</a></span></dt><dt><span class="section"><a href="ra.html#ra_default_ra_entities">3.2. Default Resource Adaptor Entities</a></span></dt><dt><span class="section"><a href="ra.html#ra_traces_and_alarms">3.3. Traces and Alarms</a></span></dt><dd><dl><dt><span class="section"><a href="ra.html#ra_tracers">3.3.1. Tracers</a></span></dt><dt><span class="section"><a href="ra.html#ra_alarms">3.3.2. Alarms</a></span></dt></dl></dd></dl></div><p>The RA implementation uses the Mobicents JAIN SIP HA stack, an extension of the JAIN SIP Reference Implementation which provides high availability and fault tolerance. The stack is the result of the work done by Mobicents JAIN SLEE and SIP Servlets development teams, and source code is provided in all releases.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_configuration"/>3.1. Configuration</h2></div></div></div><p>The Resource Adaptor supports configuration only at Resource Adaptor Entity creation time. The following table enumerates the configuration properties:</p><div class="table"><a id="d0e354"/><p class="title"><b>Table 3.1. Resource Adaptor's Configuration Properties</b></p><div class="table-contents"><table summary="Resource Adaptor's Configuration Properties" width="100%" border="1"><colgroup><col/><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Description</th><th>Property Type</th><th>Default Value</th></tr></thead><tbody><tr><td>javax.sip. IP_ADDRESS</td><td>the IP address to which the SIP stack should attach - if value is not specified the RA will use the underlying Java EE container's bind address address</td><td>java.lang.String</td><td> </td></tr><tr><td>javax.sip. OUTBOUND_PROXY</td><td>sets the outbound proxy of the SIP Stack. The format for this string is "ipaddress:port/transport" i.e. 129.1.22.333:5060/UDP. This property is optional</td><td>java.lang.String</td><td> </td></tr><tr><td>javax.sip. PORT</td><td>the port to which the SIP stack should listen</td><td>java.lang.Integer</td><td>5060</td></tr><tr><td>javax.sip. TRANSPORT</td><td>the list of supported transports, separated with ","</td><td>java.lang.String</td><td>UDP</td></tr><tr><td>org.mobicents. ha.javax.sip. BALANCERS</td><td>the list of SIP balancers, in the form of "HOST:PORT", separated by ";", it is only used if the heart beat service property is defined</td><td>java.lang.String</td><td> </td></tr><tr><td>org.mobicents. ha.javax.sip. LoadBalancer HeartBeating ServiceClassName</td><td>the name of the class responsible for the heart beats exchanged with the platform's SIP Balancer - if not specified the JAIN SIP HA stack won't use such feature</td><td>java.lang.String</td><td> </td></tr><tr><td>org.mobicents. javax.sip. LOOSE_DIALOG _VALIDATION</td><td>controls validation of CSeq number for dialog messages. Set to true allows out of sequence messages to be accepted.</td><td>java.lang.Boolean</td><td> </td></tr></tbody></table></div></div><br class="table-break"/><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>Spaces where introduced in <code class="literal">Property Name</code> column values, to correctly render the table. Please remove them when using copy/paste.</p></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important"><h2>Important</h2><p>JAIN SLEE 1.1 Specification requires values set for properties without a default value, which means the configuration for those properties are mandatory. Otherwise the Resource Adaptor Entity creation will fail.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_default_ra_entities"/>3.2. Default Resource Adaptor Entities</h2></div></div></div><p>There is a single Resource Adaptor Entity created when deploying the Resource Adaptor, named <code class="literal">SipRA</code>. The <code class="literal">SipRA</code> entity uses the default Resource Adaptor configuration, specified in <a class="xref" href="ra.html#ra_configuration" title="3.1. Configuration">Section 3.1, “Configuration”</a>.</p><p>The <code class="literal">SipRA</code> entity is also bound to Resource Adaptor Link Name <code class="literal">SipRA</code>. To use it in an SBB, add the following XML to its descriptor:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-type-binding</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-type-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-type-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;JAIN&nbsp;SIP</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-type-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-type-vendor</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;javax.sip</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-type-vendor</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-type-version</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;1.2</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-type-version</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-type-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">activity-context-interface-factory-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;slee/resources/jainsip/1.2/acifactory</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">activity-context-interface-factory-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-entity-binding</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-object-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;slee/resources/jainsip/1.2/provider</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-object-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-adaptor-entity-link</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;SipRA</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-entity-link</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-entity-binding</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-adaptor-type-binding</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;</span><br />
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="ra_traces_and_alarms"/>3.3. Traces and Alarms</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="ra_tracers"/>3.3.1. Tracers</h3></div></div></div><p>Each Resource Adaptor Entity uses a single JAIN SLEE 1.1 Tracer, named <code class="literal">SipResourceAdaptor</code>. The related Log4j Logger category, which can be used to change the Tracer level from Log4j configuration, is <code class="literal">javax.slee.RAEntityNotification[entity=SipRA]</code>.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="ra_alarms"/>3.3.2. Alarms</h3></div></div></div><p>No alarms are set by this Resource Adaptor.</p></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="ratype.html"><strong>Prev</strong>Chapter 2. Resource Adaptor Type</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="setup.html"><strong>Next</strong>Chapter 4. Setup</a></li></ul></body></html>