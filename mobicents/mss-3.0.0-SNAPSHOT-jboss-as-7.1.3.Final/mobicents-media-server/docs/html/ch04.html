<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 4. Controlling and Programming the Mobicents Media Server</title><link rel="stylesheet" type="text/css" href="css/telestax_org.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"/><link rel="home" href="index.html" title="Media Server User Guide"/><link rel="up" href="index.html" title="Media Server User Guide"/><link rel="prev" href="ch03.html" title="Chapter 3. Configuring the Media Server"/><link rel="next" href="ch05.html" title="Chapter 5. MMS: Event Packages"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.telestax.com" class="site_href"><strong>TeleStax.org</strong></a><a href="http://www.telestax.com/" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="ch03.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch05.html"><strong>Next</strong></a></li></ul><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="captms-Controlling_and_Programming_the_Media_Server"/>Chapter 4. Controlling and Programming the Mobicents Media Server</h1></div></div></div><div class="toc"><dl><dt><span class="section"><a href="ch04.html#captms-MMS_Control_Protocols">4.1. MMS Control Protocols</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#captms-Media_Gateway_Control_Protocol_Interface">4.1.1. Media Gateway Control Protocol Interface</a></span></dt><dt><span class="section"><a href="ch04.html#d0e2081">4.1.2. 
JSR-309 Control protocol Interface
</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="captms-MMS_Control_Protocols"/>4.1. MMS Control Protocols</h2></div></div></div><p>The Mobicents Media Server adopts a call control architecture where the call control <span class="quote">“<span class="quote">intelligence</span>”</span> is located outside of the Media Server itself, and is handled by external call control elements collectively known as Call State Control Function (CSCF).The media server assumes that these call control elements will synchronize with each other to send coherent commands and responses to the media servers under their control. Server Control Protocols is, in essence, an asynchronous master/slave protocol, where the Server Control Modules are expected to execute commands sent by CSCF. Each Server Control Module is implemented as a JSLEE application, and consists of a set of Service Building Blocks (<acronym class="acronym">SBB</acronym>)s, which are in charge of communicating with media server endpoints via SPI. Such an architecture avoids difficulties with programming concurrency, low-level transaction and state-management details, connection-pooling and other complex APIs.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="captms-Media_Gateway_Control_Protocol_Interface"/>4.1.1. Media Gateway Control Protocol Interface</h3></div></div></div><p>The Media Gateway Control Protocol (MGCP) is a protocol for controlling media gateways (for example, the Media Server) from external call control elements such as media gateway controllers or Call Agents.  The MGCP assumes that the Call Agents, will synchronize with each other to send coherent commands and responses to the gateways under their control.</p><p>The MGCP module is included in the binary distribution.  The Call Agent uses the MGCP to tell the Media Server:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>which events should be reported to the Call Agent;</p></li><li class="listitem"><p>how endpoints should be connected; and,</p></li><li class="listitem"><p>which signals should be played on which endpoints.</p></li></ul></div><p>MGCP is, in essence, a master/slave protocol, where the gateways are expected to execute commands sent by the Call Agents.  The general base architecture and programming interface is described in <a class="ulink" href="http://www.ietf.org/rfc/rfc2805.txt">RFC 2805</a>, and the current specific MGCP definition is located in <a class="ulink" href="http://www.ietf.org/rfc/rfc3435.txt">RFC 3435</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e2081"/>4.1.2. 
JSR-309 Control protocol Interface
</h3></div></div></div><p>
JSR-309 defines a programming model and object model for Media Server (MS) control independent of MS control protocols. JSR-309 API is not an API for a specific protocol. It will take advantage of the multiple and evolving Multimedia Server capabilities available in the industry today and also provide an abstraction for commonly used application functions like multi party conferencing, multimedia mixing and interaction dialogs.
</p><p>

Some of the commonly used MS control protocols are <a class="ulink" href="http://www.mobicents.org/mms/mms-mgcp-main.html">MGCP (RFC 3435)</a>, MEGACO (RFC 3525), Media Server Markup Language (MSML) (RFC 4722) and VoiceXML. The Mobicents implementation of JSR-309 API makes use of MGCP as MS control protocol.
</p><p>
The Mobicents JSR-309 Impl is first and only open source implementation of JSR-309 available as of today. To further understand the JSR-309 API, download specs from <a class="ulink" href="http://jcp.org/en/jsr/detail?id=309">here</a>
</p><p>
“The latest release of Mobicents JSR-309 Impl is part of binary media server release and can
be found under clients folder”.
</p><p>
The diagram bellow shows the high-level architecture of how application can make use of JSR-309 over MGCP 
</p><div class="mediaobject" align="center"><a id="mms-jsr309-mgcp"/><img src="images/SipJSR309.jpeg" align="middle"/></div></div></div></div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="ch03.html"><strong>Prev</strong>Chapter 3. Configuring the Media Server</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch05.html"><strong>Next</strong>Chapter 5. MMS: Event Packages</a></li></ul></body></html>